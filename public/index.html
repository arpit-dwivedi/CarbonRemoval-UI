<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Admin Register</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css"
          rel="stylesheet"
          type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase.js"></script>
   
    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet" />
    <style>
        body, h1, h2, h3, h4, h5, h6 {
            font-family: "Raleway", sans-serif
        }

        p {
            font-size: 14px;
        }
    </style>

</head>

<body class="w3-light-grey w3-content" style="max-width:1600px ;color:white">

    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" id="main-div">

        <!-- Header -->
        <header id="portfolio">
            <a href="#"><img src="" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
            <div class="w3-container">
                <h1 style="margin-top:20px; margin-bottom:-20px;text-align:center"><b>Market Place</b></h1>
                <div class="w3-section w3-bottombar w3-padding-16" style="float:right">
                    <button class="w3-button w3-blue" style="font-size:14px; color:white"><i class="far fa-smiles w3-margin-right"></i><a href="login.html" style="color:white">Login</a></button>
                    <button class="w3-button w3-white w3-hide-small" style="font-size:14px;"><i class="fa fa-sign-in w3-margin-right"></i><a href="signup.html" style="color:black">Sign Up</a></button>
                </div>
            </div>
        </header>

        <!-- End page content -->
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!--  to add thumbnail -->
    <script type="text/javascript" src="js/index.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyBjppvnwTNgmWjOxRFJnuLWEOp4VezTbwQ",
            authDomain: "carbonremoval-2aebc.firebaseapp.com",
            databaseURL: "https://carbonremoval-2aebc-default-rtdb.firebaseio.com",
            projectId: "carbonremoval-2aebc",
            storageBucket: "carbonremoval-2aebc.appspot.com",
            messagingSenderId: "456479033872",
            appId: "1:456479033872:web:ce5c6d58e1fc4381029895",
            measurementId: "G-2PLTR22FR4"
        };
        // initialize firbase.
        firebase.initializeApp(firebaseConfig);
        var itemsInMarketPlace = [];
        var ref = firebase.database().ref('Company');
        ref.once('value', function (snap) {
            snap.forEach(function (childData) {
                var item = {
                    images: childData.val().image,
                    latitude: childData.val().latitude,
                    longitude: childData.val().longitude
                }
                itemsInMarketPlace.push(item);
            })
            var j = 0;
            for (var i = 0; i <= itemsInMarketPlace.length / 3; ++i) {
                let childDiv = "";
                let content = "";
                for (let x = 0; x < 3 && j < itemsInMarketPlace.length; ++x, ++j) {
                    childDiv += `
                        <div class="w3-third w3-container w3-margin-bottom"><img src="${itemsInMarketPlace[j].images}" alt="Norway" style="width:100%" class="w3-hover-opacity">
                            <div class="w3-container w3-white"">
                                <p><b>Carbon Emission : </b></p>
                                <p><b>Longitude: ${itemsInMarketPlace[j].longitude} </b></p>
                                <p><b>Latitude: ${itemsInMarketPlace[j].latitude} </b></p>
                                <div>
                                    <p style="float:left"><b>Price : </b></p>
                                     <button type="button" class="btn btn-primary buy-now" style="float:right;margin-bottom:10px; font-size:12px;">Buy Now</button>
                                </div>
                             </div>
                        </div>`
                }
                content = `<div class="w3-row-padding">` + childDiv + `</div>`;
                document.getElementById('main-div').innerHTML += content;
            }
        });
    </script>

</body>
</html>
