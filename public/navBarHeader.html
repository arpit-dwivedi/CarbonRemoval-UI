<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Market Place</title>

    <!-- Custom fonts for this template-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">


    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
    </style>

</head>

<body>
    <!-- Begin NavBar Content -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Market Place</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item UserIsFarmer">
                    <a class="nav-link" href="mintNft.html">Mint NFT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="mypurchases.html">My Purchases</a>
                </li>
                <li class="nav-item UserIsFarmer">
                    <a class="nav-link" href="myNFTs.html">My NFTs</a>
                </li>
            </ul>

            <ul class="navbar-nav narvbar-right">
                <li class="nav-item">
                    <a id="loadWalletAccount" class="nav-link" href="connectMetamask.html">Connect Wallet</a>
                </li>

                <li class="nav-item NotAlreadyRegistered">
                    <a class="nav-link" href="login.html">Login</a>
                </li>

                <li class="nav-item NotAlreadyRegistered">
                    <a class="nav-link" href="registerfarmer.html">Sign Up</a>
                </li>

                <li class="nav-item dropdown UserIsFarmer">
                    <a class="nav-link dropdown-toggle" href="#" id="loggedInUserId" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#" onclick="logout()">Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <!-- End NavBar Content -->

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@alch/alchemy-web3@latest/dist/alchemyWeb3.min.js"></script>
    <script src="vendor/metamask-onboarding.bundle.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyBjppvnwTNgmWjOxRFJnuLWEOp4VezTbwQ",
            authDomain: "carbonremoval-2aebc.firebaseapp.com",
            databaseURL: "https://carbonremoval-2aebc-default-rtdb.firebaseio.com",
            projectId: "carbonremoval-2aebc",
            storageBucket: "carbonremoval-2aebc.appspot.com",
            messagingSenderId: "456479033872",
            appId: "1:456479033872:web:ce5c6d58e1fc4381029895",
            measurementId: "G-2PLTR22FR4"
        };

        //handles user auth
        firebase.auth().onAuthStateChanged(function (user) {
            if (isMetaMaskInstalled) {
                ethereum.request({ method: 'eth_accounts' }).then(function (accounts) {
                    document.getElementById('loadWalletAccount').innerText = accounts[0] || 'Connect Wallet';
                });
            }
            if (user != null) {
                if (user.emailVerified) {
                    document.getElementById('loggedInUserId').innerText = user.email;

                    $('.UserIsFarmer').show();
                    $('.NotAlreadyRegistered').hide();
                }
                else {
                    confirm('You need to verify your email before accessing this feature !!!');
                    window.location.replace("login.html");
                }
            }
            else {
                $('.UserIsFarmer').hide();
                $('.NotAlreadyRegistered').show();

            }
        });
    </script>

</body>

</html>